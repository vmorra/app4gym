<div ng-controller="drillCtrl">
	<div class="drills-page d-flex flex-row flex-wrap justify-content-center">
		
			<div class="p-2 drill-container-wrapper" ng-repeat="drill in drills">
				 <div class="drill-container text-justify">
					 <div ng-click="goToDrillDetail(drill.id)" class="gym-drill-preview-container-right text-center" style="background-image:url({{'http://img.youtube.com/vi/'+drill.attributes.field_video_id+'/0.jpg'}})">
						 <!-- <img ng-click="goToDrillDetail(drill.id)" width="210" class="drill-video-preview" height="157" src="{{'http://img.youtube.com/vi/'+drill.attributes.field_video_id+'/0.jpg'}}"/>-->
						 
						 <!-- <iframe src="{{getIframeSrc(drill.attributes.field_video_id,drill.attributes.field_video_source)}}" frameborder="0" allowfullscreen></iframe> -->
					 </div>		
					 <div class="gym-program-title drill-description text-justify" ng-click="goToDrillDetail(drill.id)">{{drill.attributes.title}}</div>							
				</div>
			</div>
		
	</div>
</div>

<div ng-controller="testerCtrl">
	<div id="modal-youtube" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
	  <div class="modal-dialog modal-lg">
	    <div class="modal-content">
		    <div class="modal-header">
	        	<h5 class="modal-title" id="exampleModalLabel">Your Playlists</h5>
	        	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          		<span aria-hidden="true">&times;</span>
	        	</button>
	      	</div>
	      	
	      	<div ng-repeat="playlist in playlists" class="row playlist-element" ng-show="playlistmode" ng-if="playlist.snippet.title!='Favorites'">
	      		<div class="col-6 text-center">
	      			<img ng-click="goToPlayList(playlist.id)" class="gym-playlist-preview" src="{{playlist.snippet.thumbnails.default.url}}"></img>
	      		</div>
	      		<div class="col-6 playlist-info">
	      			<h4>{{playlist.snippet.title}}</h4>
	      			<p class="playlist-description">{{playlist.snippet.description}}</p>
	      			<span>Items: {{playlist.contentDetails.itemCount}}</span>	      			
	      		</div>
	      		<hr class="playlist-divider">
	      	</div>
	      	
	      	<span class="text-right back-to-playlist" ng-click="playlistmode=true" ng-show="!playlistmode && !drillVideosMode"><i class="fa fa-chevron-left fa-1" aria-hidden="true"></i>  Indietro</span>
	      	<div class="drills-page d-flex flex-row flex-wrap justify-content-center" ng-show="!playlistmode && !drillVideosMode">
				
				<div class="p-2 drill-container-wrapper" ng-repeat="videoItem in playlistItems">
					 <div class="drill-container text-justify">
						 <div class="gym-drill-preview-container-right text-center" ng-click="toggleVideoSelection($event,$index)" style="background-image:url({{'http://img.youtube.com/vi/'+videoItem.contentDetails.videoId+'/0.jpg'}})">
						 </div>		
						 <div class="gym-program-title drill-description text-justify" ng-click="goToDrillDetail(drill.id)">{{videoItem.snippet.title}}</div>							
					</div>
				</div>				
			</div>
			
			<span class="text-right back-to-playlist" ng-click="playlistmode=true; drillVideosMode=false; drillVideos=[]" ng-show="!playlistmode && drillVideosMode"><i class="fa fa-chevron-left fa-1" aria-hidden="true"></i>  PlayLists</span>
			
			<div ng-repeat="videoDrill in drillVideos" class="row playlist-element" ng-show="!playlistmode && drillVideosMode">
	      		<div class="col-6 text-center">
	      			<img class="gym-playlist-preview" src="{{videoDrill.snippet.thumbnails.default.url}}"></img>
	      			<h6>{{videoDrill.snippet.title}}</h6>
	      		</div>
	      		<div class="col-6 playlist-info">	      		
	      			<form>
	      				 <label for="branchSelection"> Branch: </label><br>
	      				 <select name="select" ng-model="videoDrill.branch">
	      				 	
	      				 	<option ng-selected="selected" value="">-- Select branch --</option>
      						<option value="branch.id" ng-repeat="branch in branches">{{branch.attributes.field_label}}</option>
    					 </select><br>
    					 <label for="apparatusSelection"> Apparatus: </label><br>
    					 <select name="apparatusSelection" ng-model="videoDrill.apparatus">
    					 	<option ng-selected="selected" value="">-- Select apparatus --</option>
      						<option value="apparatus.id" ng-repeat="apparatus in apparatusList">{{apparatus.attributes.name}}</option>
    					 </select><br>
	      			</form>     				      			      			
	      		</div>
	      		<hr class="playlist-divider">
	      	</div>
		
		<button type="button" class="btn btn-danger btn-lg button-video-selection" ng-show="!playlistmode" ng-click="addToVideoSelection()">Aggiungi all'elenco</button>
	    </div>
	  </div>
	</div>
	
	
	
		<button type="button" class="fixedbutton btn btn-danger btn-lg" ng-click="getUserChannel();">Add drill pin</button>
	
</div>


